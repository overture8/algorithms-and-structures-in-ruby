<!DOCTYPE html>

<html>
<head>
  <title>Binary Search Tree</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page">
            
              
              <a class="source" href="binary_search_tree.html">
                binary_search_tree.rb
              </a>
            
              
              <a class="source" href="bubble_sort.html">
                bubble_sort.rb
              </a>
            
              
              <a class="source" href="queue.html">
                queue.rb
              </a>
            
              
              <a class="source" href="singly_linked_list.html">
                singly_linked_list.rb
              </a>
            
              
              <a class="source" href="stack.html">
                stack.rb
              </a>
            
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              <h1 id="binary-search-tree">Binary Search Tree</h1>

            </div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BinarySearchTree</span></span>
  <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Node</span></span>
    <span class="hljs-keyword">attr_reader</span> <span class="hljs-symbol">:key</span>, <span class="hljs-symbol">:left</span>, <span class="hljs-symbol">:right</span></pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>On initialization, the <code>@key</code> variable is set.  This is used in the insert
method below as the parent for the <code>@left</code> and <code>@right</code> nodes.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">def</span> </span>initialize( key )
      <span class="hljs-variable">@key</span> = key
      <span class="hljs-variable">@left</span> = <span class="hljs-keyword">nil</span>
      <span class="hljs-variable">@right</span> = <span class="hljs-keyword">nil</span>
    <span class="hljs-keyword">end</span></pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>Inserting at the node level will check what the new key is in
order to insert it in the appropriate place.  The restriction being that
the key in any node is larger than the keys in all nodes in that node’s 
left sub-tree and smaller than the keys in all nodes in that node’s 
right sub-tree.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">def</span> </span>insert( new_key )
      <span class="hljs-keyword">if</span> new_key &lt;= <span class="hljs-variable">@key</span>
        <span class="hljs-variable">@left</span>.<span class="hljs-keyword">nil</span>? ? <span class="hljs-variable">@left</span> = <span class="hljs-constant">Node</span>.new( new_key ) <span class="hljs-symbol">:</span> <span class="hljs-variable">@left</span>.insert( new_key )
      <span class="hljs-keyword">elsif</span> new_key &gt; <span class="hljs-variable">@key</span>
        <span class="hljs-variable">@right</span>.<span class="hljs-keyword">nil</span>? ? <span class="hljs-variable">@right</span> = <span class="hljs-constant">Node</span>.new( new_key ) <span class="hljs-symbol">:</span> <span class="hljs-variable">@right</span>.insert( new_key )
      <span class="hljs-keyword">end</span>
    <span class="hljs-keyword">end</span>
  <span class="hljs-keyword">end</span></pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>Initialize the <code>@root</code> variable to <code>nil</code>.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-function"><span class="hljs-keyword">def</span> </span>initialize
    <span class="hljs-variable">@root</span> = <span class="hljs-keyword">nil</span>
  <span class="hljs-keyword">end</span></pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>Inserting at the <code>BinarySearchTree</code> level looks if there is a
<code>@root</code> node, if not it creates one.  If there is then the insert
is delegated the the <code>Node</code> level.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-function"><span class="hljs-keyword">def</span> </span>insert( key )
    <span class="hljs-keyword">if</span> <span class="hljs-variable">@root</span>.<span class="hljs-keyword">nil</span>?
      <span class="hljs-variable">@root</span> = <span class="hljs-constant">Node</span>.new( key )
    <span class="hljs-keyword">else</span>
      <span class="hljs-variable">@root</span>.insert( key )
    <span class="hljs-keyword">end</span>
  <span class="hljs-keyword">end</span></pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>This is <strong>in order traversal</strong> (recursive implementation).
Notice hold the yield for visting the node is <strong>in between</strong> the
two recursive calls for left and right nodes respectively.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-function"><span class="hljs-keyword">def</span> </span>in_order(node=<span class="hljs-variable">@root</span>, &amp;block)
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">if</span> node.<span class="hljs-keyword">nil</span>?
    in_order(node.left, &amp;block)
    <span class="hljs-keyword">yield</span> node
    in_order(node.right, &amp;block)
  <span class="hljs-keyword">end</span></pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p>This is <strong>pre order traversal</strong> (recursive implementation).
Notice hold the yield for visting the node is <strong>before</strong> the
two recursive calls for left and right nodes respectively.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-function"><span class="hljs-keyword">def</span> </span>pre_order(node=<span class="hljs-variable">@root</span>, &amp;block)
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">if</span> node.<span class="hljs-keyword">nil</span>?
    <span class="hljs-keyword">yield</span> node
    in_order(node.left, &amp;block)
    in_order(node.right, &amp;block)
  <span class="hljs-keyword">end</span></pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <p>This is <strong>post order traversal</strong> (recursive implementation).
Notice hold the yield for visting the node is <strong>after</strong> the
two recursive calls for left and right nodes respectively.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-function"><span class="hljs-keyword">def</span> </span>post_order(node=<span class="hljs-variable">@root</span>, &amp;block)
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">if</span> node.<span class="hljs-keyword">nil</span>?
    in_order(node.left, &amp;block)
    in_order(node.right, &amp;block)
    <span class="hljs-keyword">yield</span> node
  <span class="hljs-keyword">end</span></pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <p>This is where you get to see the binary search tree shine.
A recursive approach is taken to traverse the tree, each time
disregarding half of the nodes in the tree.  With this you
will get O( log n ) time.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-function"><span class="hljs-keyword">def</span> </span>search( key, node=<span class="hljs-variable">@root</span> )
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">nil</span> <span class="hljs-keyword">if</span> node.<span class="hljs-keyword">nil</span>?
    <span class="hljs-keyword">if</span> key &lt; node.key
      search( key, node.left )
    <span class="hljs-keyword">elsif</span> key &gt; node.key
      search( key, node.right )
    <span class="hljs-keyword">else</span>
      <span class="hljs-keyword">return</span> node
    <span class="hljs-keyword">end</span>
  <span class="hljs-keyword">end</span>

<span class="hljs-keyword">end</span></pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
